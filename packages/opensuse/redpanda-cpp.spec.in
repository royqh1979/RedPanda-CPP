Name: redpanda-cpp
Version: __VERSION__
Release: 1%{?dist}
Summary: A fast, lightweight, open source, and cross platform C++ IDE
License: GPLv3+
URL: https://github.com/royqh1979/RedPanda-CPP
Source0: RedPanda-CPP.tar.gz

BuildRequires: gcc gcc-c++
BuildRequires: qt6-base-devel qt6-svg-devel qt6-tools-devel qt6-linguist-devel cmake
Requires: gcc gcc-c++ astyle
Requires: glibc-devel-static
Requires: libQt6Core6 libQt6Gui6 libQt6Svg6

%description
A lightweight but powerful C/C++ IDE

Red Panda C++ (Old name Red Panda Dev-C++ 7) is a full featured C/C++ IDE.
It's the succesor of Red Panda Dev-C++ 6, which is developed by Delphi 7 and
can only running under Windows.

%prep
%setup -n "RedPanda-CPP"

%build
mkdir -p %{name}
cd %{name}
cmake -S "%{_builddir}/RedPanda-CPP" -B . \
    -G "Unix Makefiles" \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr
make %{_smp_mflags}

%install
cd %{name}
make DESTDIR="%{buildroot}" install

%files
/usr/bin/RedPandaIDE
/usr/libexec/RedPandaCPP/*
/usr/share/RedPandaCPP/*
/usr/share/doc/RedPandaCPP/*
/usr/share/applications/RedPandaIDE.desktop
/usr/share/icons/hicolor/scalable/apps/redpandaide.svg
/usr/share/mime/packages/redpandaide.xml

%changelog
